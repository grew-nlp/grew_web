<!doctype html>
<html lang="en">

<head>
  <title>Grew-web</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <script src="https://cdn.jsdelivr.net/npm/vue"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="main.css">

  <!-- Custom styles for this template -->
  <link href="main.css" rel="stylesheet">
</head>

<body>
  <div id="app">
    <nav class="navbar navbar-expand-sm fixed-top">
      <img aria-hidden="true" role="presentation" src="img/grew.svg" id="logo">

      {{ level }}

      <ul class="nav nav-pills">
        <li class="active">
          <button id="button-corpus" class="btn btn-success btn-sm" data-toggle="pill" href="#pill-corpus">Corpus</button>
        </li>
        <li>
          <button id="button-rewriting" v-bind:class="{ disabled: level < 3 }" class="btn btn-success btn-sm" data-toggle="pill" href="#pill-rewriting">Rewriting</button>
        </li>
        <li>
          <button id="button-rules" v-bind:class="{ disabled: level < 5}" class="btn btn-success btn-sm" data-toggle="pill" href="#pill-rules">Rules</button>
        </li>
      </ul>

      <ul class="navbar-nav">
        <li>
          <h3>Corpus:</h3>
        </li>
        <li>
          <div class="custom-file">
            <input type="file" class="custom-file-input" id="corpus_input">
            <label class="custom-file-label">{{ corpus }}</label>
          </div>
        </li>
        <li>
          <h3>GRS:</h3>
        </li>
        <li>
          <div class="custom-file">
            <input type="file" class="custom-file-input" id="grs_input">
            <label class="custom-file-label">{{ grs }}</label>
          </div>
        </li>
      </ul>
    </nav>


    <div class="tab-content">
      <!-- *************** pane 1: corpus view *************** -->
      <div id="pill-corpus" class="main tab-pane fade in active show">

        <div class="wrapper">
          <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
            <div class="sidebar-sticky pt-3">
              <ul class="nav flex-column">
                <li>
                  <h3>{{ corpus }}</h3>
                </li>
                <li class="nav-item" v-for="sent_id in sent_ids">
                  <a v-bind:id="sent_id" v-on:click="select_graph" class="sent nav-link" href="#">
                    {{ sent_id }}
                  </a>
                </li>
              </ul>
            </div>
          </nav>

          <div class="col-md-9 ml-sm-auto col-lg-10 px-md-4">

            <div id="display-svg">
              <object type="image/svg+xml" class="logo" v-bind:data="svg_init"></object>
            </div>

            <button v-for="strat in strats" v-bind:class="{ disabled: level < 2 }" v-bind:id="'strat-' + strat" v-on:click="rewrite"  type="button" class="btn btn-success">{{ strat }}</button>

          </div>
        </div>

      </div>

      <!-- *************** pane 2: rewriting view *************** -->
      <div id="pill-rewriting" class="main tab-pane fade">

        <div class="wrapper">
          <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
            <div class="sidebar-sticky pt-3">
              <ul class="nav flex-column">
                <li>
                  <h3>Normal forms</h3>
                </li>
                <li class="nav-item" v-for="normal_form in normal_forms">
                  <a v-bind:id="normal_form" v-on:click="select_normal_form" class="sent nav-link" href="#">
                    {{ normal_form }}
                  </a>
                </li>
              </ul>
            </div>
          </nav>

          <div class="col-md-9 ml-sm-auto col-lg-10 px-md-4">

            <div id="display-svg">
              <object type="image/svg+xml" class="logo" v-bind:data="svg_init"></object>
            </div>

            <p class="text-center" style="font-size:80px">
              ↓<button v-on:click="get_rules" class="btn btn-success btn-lg">See rules</button>↓
            </p>

            <div id="display-svg">
              <object type="image/svg+xml" class="logo" v-bind:data="svg_final"></object>
            </div>
          </div>
        </div>

      </div>

      <!-- *************** pane 3: rules view *************** -->
      <div id="pill-rules" class="main tab-pane fade">

        <div class="wrapper">
          <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
            <div class="sidebar-sticky pt-3">
              <ul class="nav flex-column">
                <li>
                  <h3>rules</h3>
                </li>
                <li class="nav-item" v-for="rule in rules">
                  <a v-bind:id="rule" v-on:click="select_rule" class="sent nav-link" href="#">
                    {{ rule }}
                  </a>
                </li>
              </ul>
            </div>
          </nav>

          <div class="col-md-9 ml-sm-auto col-lg-10 px-md-4">

            <div id="display-svg">
              <object type="image/svg+xml" class="logo" v-bind:data="svg_before"></object>
            </div>

            <p class="text-center" style="font-size:100px">↓</p>

            <div id="display-svg">
              <object type="image/svg+xml" class="logo" v-bind:data="svg_after"></object>
            </div>
          </div>

        </div>
      </div>



    </div>
  </div>

  <script src="index.js"></script>

</body>

</html>